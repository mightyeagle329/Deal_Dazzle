{"ast":null,"code":"var _jsxFileName = \"/Users/akshitanand/Deal_Dazzle_/client/src/components/Navbar/Navbar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { AppBar, Typography, Toolbar, Avatar, Button, IconButton, Menu, MenuItem } from '@material-ui/core';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport decode from 'jwt-decode';\nimport memoriesLogo from '../../images/memoriesLogo.png';\nimport memoriesText from '../../images/memoriesText.png';\nimport * as actionType from '../../constants/actionTypes';\nimport useStyles from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Navbar = () => {\n  _s();\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  const [anchorEl, setAnchorEl] = useState(null);\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const classes = useStyles();\n  const handleMenuOpen = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n  const logout = () => {\n    dispatch({\n      type: actionType.LOGOUT\n    });\n    history.push('/auth');\n    setUser(null);\n    handleMenuClose();\n  };\n  useEffect(() => {\n    const token = user === null || user === void 0 ? void 0 : user.token;\n    if (token) {\n      const decodedToken = decode(token);\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n    setUser(JSON.parse(localStorage.getItem('profile')));\n  }, [location]);\n  return /*#__PURE__*/_jsxDEV(AppBar, {\n    className: classes.appBar,\n    position: \"static\",\n    color: \"inherit\",\n    children: /*#__PURE__*/_jsxDEV(Toolbar, {\n      className: classes.toolbar,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.brandContainer,\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: classes.brandLink,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: memoriesText,\n            alt: \"Memories\",\n            className: classes.brandText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: memoriesLogo,\n          alt: \"Memories Logo\",\n          className: classes.brandLogo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.menuContainer,\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          edge: \"start\",\n          color: \"inherit\",\n          \"aria-label\": \"menu\",\n          \"aria-controls\": \"menu-appbar\",\n          \"aria-haspopup\": \"true\",\n          onClick: handleMenuOpen,\n          children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          id: \"menu-appbar\",\n          anchorEl: anchorEl,\n          anchorOrigin: {\n            vertical: 'top',\n            horizontal: 'right'\n          },\n          keepMounted: true,\n          transformOrigin: {\n            vertical: 'top',\n            horizontal: 'right'\n          },\n          open: Boolean(anchorEl),\n          onClose: handleMenuClose,\n          children: user !== null && user !== void 0 && user.result ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              onClick: handleMenuClose,\n              children: \"Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              onClick: logout,\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(MenuItem, {\n            component: Link,\n            to: \"/auth\",\n            onClick: handleMenuClose,\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(Navbar, \"vc1YKramzUrSX2+4EfldOnbm2FE=\", false, function () {\n  return [useDispatch, useLocation, useHistory, useStyles];\n});\n_c = Navbar;\nexport default Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","useState","useEffect","AppBar","Typography","Toolbar","Avatar","Button","IconButton","Menu","MenuItem","Link","useHistory","useLocation","useDispatch","MenuIcon","decode","memoriesLogo","memoriesText","actionType","useStyles","jsxDEV","_jsxDEV","Fragment","_Fragment","Navbar","_s","user","setUser","JSON","parse","localStorage","getItem","anchorEl","setAnchorEl","dispatch","location","history","classes","handleMenuOpen","event","currentTarget","handleMenuClose","logout","type","LOGOUT","push","token","decodedToken","exp","Date","getTime","className","appBar","position","color","children","toolbar","brandContainer","to","brandLink","src","alt","brandText","fileName","_jsxFileName","lineNumber","columnNumber","brandLogo","menuContainer","edge","onClick","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","result","component","_c","$RefreshReg$"],"sources":["/Users/akshitanand/Deal_Dazzle_/client/src/components/Navbar/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { AppBar, Typography, Toolbar, Avatar, Button, IconButton, Menu, MenuItem } from '@material-ui/core';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport decode from 'jwt-decode';\n\nimport memoriesLogo from '../../images/memoriesLogo.png';\nimport memoriesText from '../../images/memoriesText.png';\nimport * as actionType from '../../constants/actionTypes';\nimport useStyles from './styles';\n\nconst Navbar = () => {\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  const [anchorEl, setAnchorEl] = useState(null);\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const handleMenuOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const logout = () => {\n    dispatch({ type: actionType.LOGOUT });\n    history.push('/auth');\n    setUser(null);\n    handleMenuClose();\n  };\n\n  useEffect(() => {\n    const token = user?.token;\n\n    if (token) {\n      const decodedToken = decode(token);\n\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n\n    setUser(JSON.parse(localStorage.getItem('profile')));\n  }, [location]);\n\n  return (\n    <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\n      <Toolbar className={classes.toolbar}>\n        <div className={classes.brandContainer}>\n          <Link to=\"/\" className={classes.brandLink}>\n            <img src={memoriesText} alt=\"Memories\" className={classes.brandText} />\n          </Link>\n          <img src={memoriesLogo} alt=\"Memories Logo\" className={classes.brandLogo} />\n        </div>\n        <div className={classes.menuContainer}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            aria-controls=\"menu-appbar\"\n            aria-haspopup=\"true\"\n            onClick={handleMenuOpen}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Menu\n            id=\"menu-appbar\"\n            anchorEl={anchorEl}\n            anchorOrigin={{\n              vertical: 'top',\n              horizontal: 'right',\n            }}\n            keepMounted\n            transformOrigin={{\n              vertical: 'top',\n              horizontal: 'right',\n            }}\n            open={Boolean(anchorEl)}\n            onClose={handleMenuClose}\n          >\n            {user?.result ? (\n              <>\n                <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\n                <MenuItem onClick={logout}>Logout</MenuItem>\n              </>\n            ) : (\n              <MenuItem component={Link} to=\"/auth\" onClick={handleMenuClose}>Sign In</MenuItem>\n            )}\n          </Menu>\n        </div>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}